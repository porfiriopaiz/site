Debian Testing Forky
####################

:date: 2026-2-2 2:15
:tags: debian, forky, testing
:category: floss
:slug: debian-testing
:summary: How to upgrade to Debian Testing (forky)
:lang: en

So I have another Lenovo ThinkPad, this one is a T450 and it is currently
running Debian 13.

On this post I will be upgrading from Debian 13.3 to Debian Testing (Forky).

----

Pre-upgrade Process
-------------------

Confirm the installed Debian version just to make sure where we are starting
from:

.. code-block:: bash

   cat /etc/debian_version

Which returns:

.. code-block:: bash

   13.3

Gather System Information
^^^^^^^^^^^^^^^^^^^^^^^^^

This command gives us more information about the current version installed on our
device:

.. code-block:: bash

   lsb_release -a

Which returns:

.. code-block:: bash

   Distributor ID: Debian
   Description:    Debian GNU/Linux 13 (trixie)
   Release:        13
   Codename:       trixie

This is another alternative to get even more information about the installed 
system version:

.. code-block:: bash

   cat /etc/os-release

Which returns:

.. code-block:: bash

   PRETTY_NAME="Debian GNU/Linux 13 (trixie)"
   NAME="Debian GNU/Linux"
   VERSION_ID="13"
   VERSION="13 (trixie)"
   VERSION_CODENAME=trixie
   DEBIAN_VERSION_FULL=13.3
   ID=debian
   HOME_URL="https://www.debian.org/"
   SUPPORT_URL="https://www.debian.org/support"
   BUG_REPORT_URL="https://bugs.debian.org/"

----

Storage Analysis
----------------

Before upgrading, I wanted to know how much storage space I have used since 
Debian 13.3 was installed on my T450.

Analyze APT Cache
^^^^^^^^^^^^^^^^^

I ran this command to measure the total storage space used:

.. code-block:: bash

   sudo du -sh /var/cache/apt/archives/

Which returned the following:

.. code-block:: bash

   8.3G	/var/cache/apt/archives/

Since I installed Debian 13.3 on this device, I have downloaded 8.3 GB of packages.

.. code-block:: bash

   sudo head -n 1 /var/log/installer/syslog

Which returns:

.. code-block:: bash

   Sep  4 04:37:28 syslogd started: BusyBox v1.30.1

Meaning that Debian 13.3 was installed on September 4, 2025 at 04:37:28 UTC.

.. code-block:: bash

   sudo tune2fs -l /dev/mapper/taylor--vg-root | grep 'Filesystem created:'

Which returns:

.. code-block:: bash

   Filesystem created:       Wed Sep  3 23:10:05 2025

Meaning that the root filesystem was created on September 3, 2025 at 23:10:05 UTC.

.. code-block:: bash

   sudo tune2fs -l /dev/sda2 | grep 'Filesystem created:'

Which returned the following:

.. code-block:: bash

   Filesystem created:       Wed Sep  3 22:41:58 2025

Meaning that the /boot filesystem was created on September 3, 2025 at 22:41:58 UTC.

----

Package Inventory
-----------------

Something important to me before upgrading is to make a list of all the 
packages currently installed.

Methods to List Packages
^^^^^^^^^^^^^^^^^^^^^^^^

- **Selection List**: Saves a basic list to ``packagesInstalled``.
  
  .. code-block:: bash

     dpkg --get-selections > packagesInstalled

- **Detailed Query**: Includes status, version, and architecture.
  
  .. code-block:: bash

     dpkg-query -l > dpkgQuery-l

- **Binary Names Only**: Useful for clean, one-per-line lists.
  
  .. code-block:: bash

     dpkg-query -f '${binary:Package}\n' -W > dpkgQuery-f_binPac

- **Manual Selections**: Lists packages specifically requested by the user.
  
  .. code-block:: bash

     apt-mark showmanual > manuallyInstalled

----

The Upgrade Process
-------------------

OK... enough nostalgia for the moment; this is where the fun begins!

Update Current System
^^^^^^^^^^^^^^^^^^^^^

As it is, I need to make sure that my system is fully up to date:

.. code-block:: bash

   sudo apt-get update
   sudo apt-get upgrade
   sudo apt-get dist-upgrade

Modify Package Sources
^^^^^^^^^^^^^^^^^^^^^^

First, make a backup of your current configuration:

.. code-block:: bash

   sudo cp /etc/apt/sources.list /etc/apt/sources.list.orig

Then, update the file to switch the codename to **Forky**:

.. code-block:: bash

   cd /etc/apt/
   sudo sed -i.bak '/^deb-src\|^deb/ s/trixie/forky/g' /etc/apt/sources.list

Perform the Full Upgrade
^^^^^^^^^^^^^^^^^^^^^^^^

Update the repository data:

.. code-block:: bash

   sudo apt update

Check for upgradable packages:

.. code-block:: bash

   sudo apt list --upgradable

We will upgrade first without installing new packages:

.. code-block:: bash

   sudo apt upgrade --without-new-pkgs

Once this is completed, we can fully upgrade our system:

.. code-block:: bash

   sudo apt full-upgrade

----

Conclusion
----------

Once this process was completed, I was able to reboot my system and run Debian
Testing (Forky) on my Lenovo ThinkPad T450 without having to reinstall from
scratch.
